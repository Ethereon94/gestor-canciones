<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gestor de Canciones</title>

  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4f8cff">
</head>

<body>

<header class="app-header">
  <h1>ðŸŽµ Gestor de Canciones</h1>
</header>

<main class="container">

  <section class="card">
    <h2>Agregar canciÃ³n</h2>
    <input id="songName" placeholder="Nombre">
    <input id="songKey" placeholder="Tonalidad (Ej: G, Am)">
    <button onclick="addSong()">Agregar</button>
  </section>

  <section class="card">
    <h2>Lista de canciones</h2>

    <input id="searchSong" placeholder="ðŸ” Buscar canciÃ³n">

    <select id="sortMode" onchange="renderSongs()">
      <option value="name">Orden Aâ€“Z</option>
      <option value="key">Por tonalidad</option>
    </select>

    <select id="filterKey" onchange="renderSongs()">
      <option value="">Todas</option>
      <option>C</option><option>G</option><option>D</option><option>A</option>
      <option>E</option><option>B</option><option>F#</option><option>C#</option>
      <option>F</option><option>Bb</option><option>Eb</option><option>Ab</option>
      <option>Db</option><option>Gb</option><option>Cb</option>
      <option>Am</option><option>Em</option><option>Bm</option><option>F#m</option>
      <option>C#m</option><option>G#m</option><option>D#m</option><option>A#m</option>
      <option>Dm</option><option>Gm</option><option>Cm</option><option>Fm</option>
      <option>Bbm</option><option>Ebm</option><option>Abm</option>
    </select>

    <ul id="songList" class="scroll"></ul>
  </section>

  <section class="card">
    <h2>Setlist de hoy</h2>
    <input type="date" id="setlistDate">
    <ul id="setlist" class="scroll"></ul>

    <div class="buttons">
      <button onclick="saveSetlist()">ðŸ’¾ Guardar</button>
      <button onclick="copySetlist()">ðŸ“‹ Copiar</button>
      <button onclick="copySetlistWhatsApp()">ðŸ“² WhatsApp</button>
      <button onclick="enterStageMode()">ðŸŽ¤ Modo canto</button>
    </div>
  </section>

  <section class="card">
    <h2>Historial</h2>
    <ul id="historyList"></ul>
  </section>

</main>

<section id="stageMode" class="stage hidden">
  <h2>ðŸŽ¶ Setlist</h2>
  <ul id="stageSetlist"></ul>
  <button onclick="exitStageMode()">â¬… Salir</button>
</section>

<section id="lyricsView" class="stage hidden">
  <button onclick="backToStage()">â¬… Volver</button>
  <h2 id="lyricsTitle"></h2>
  <p id="lyricsKey"></p>
  <pre id="lyricsContent"></pre>
</section>

<section id="songEditor" class="stage hidden">
  <button onclick="closeSongEditor()">â¬… Volver</button>
  <h2>Editar canciÃ³n</h2>
  <input id="editorName">
  <input id="editorKeyInput">
  <textarea id="editorLyrics"></textarea>
  <button onclick="saveSongEdits()">ðŸ’¾ Guardar cambios</button>
</section>

<script src="app.js"></script>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js');
  });
}
</script>

</body>
</html>